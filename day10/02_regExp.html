<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>
        정규표현식
    </h1>
    <!-- 
        * 정규표현식에서 사용되는 플래그
          i : 대소문자 구분 X / g : 전역검색 / m : 줄바꿈 포함

        * 패턴 문자열
          a-zA-Z : 영어알파벳 / ㄱ-ㅎ가-힇 : 한글 / 0-9 : 숫자
          . : 모든 문자열 (숫자, 한글, 영어, 특수문자, 공백) => 줄바꿈은 X

          \d : 숫자          \D : 숫자 아닌것
          \s : 공백          \S : 공백 아닌것
          \w : 영숫자        \W : 영숫자 아닌것
          \특수기호

          검색패턴
          - | : or => (jpg|gif) / [jpg] => j or p or g
          - [] : or의 묶음 / 문자들 중 하나
            /abc/ => 'abc'를 포함하는 문자
            /[abc]/ => 'a', 'b', 'c' 중 하나를 포함하는
            /[a-z+]/ => a~z까지 중 하나를 포함하는 (+ : 하나이상)
            /[^abc]/ => 'a', 'b', 'c' 빼고(제외)
          
          - {min, max} : min~max까지 글자수 제한
          
          - ^ (시작문자) / $ (끝문자) /^시작문자 끝문자$/
          /\.(jpg|gif|png|bmp)$/i
    -->

    <script>
        let testText = 'This is Javascript Regular Expression';

        console.log(testText.match(/is/g));
        if(testText.match(/is/g)){
            console.log('is 문장이 존재합니다.');
        } else {
            console.log('is 문장이 존재하지 않습니다.');
        }

        console.log((/is/g).test(testText)); // 정규표현식이 존재하는지 여부

        const fileName = ['abc.jpg','main.java','main.GIF',
                          'test.gif','doc.pdf','code.js'];
        // 이미지파일 : 'abc.jpg','main.GIF''test.gif'
        // 그 외 파일 : 'main.java','doc.pdf','code.js'
        const imageFile =[];
        const otherFile = [];
        for(let file of fileName){
            if(file.match(/\.(jpg|gif|png|jpeg)$/i)){
                imageFile.push(file);
            } else {
                otherFile.push(file);
            }
        };
        console.log('이미지파일:'+imageFile);
        console.log('그 외 파일:'+otherFile);
        
        // filter
        const imageFiles = fileName.filter(f=>f.match(/\.(jpg|gif|png|jpeg)$/i));
        const otherFiles = fileName.filter(f=>f.match(/\.(jpg|gif|png|jpeg)$/i));
        console.log('이미지파일:'+imageFile);
        console.log('그 외 파일:'+otherFile);

        // reduce
        const result = fileName.reduce((acc, file)=>{
            if(file.match(/\.(jpg|gif|png|jpeg)$/i)){
                acc.image.push(file);
            } else{
                acc.other.push(file);
            }
            return acc;
        }, {image:[], other:{}});
        console.log(result);
    </script>
</body>
</html>